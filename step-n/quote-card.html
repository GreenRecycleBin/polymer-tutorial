<link rel="import" href="../components/core-toolbar/core-toolbar.html">
<link rel="import" href="../components/core-tooltip/core-tooltip.html">
<link rel="import" href="../components/core-icons/core-icons.html">
<link rel="import" href="../components/core-icon-button/core-icon-button.html">
<link rel="import" href="light-box.html">

<polymer-element name="quote-card" attributes="item">
  <template>
    <style>
    :host {
      display: block;
      background-color: white;
      margin-bottom: 20px;
      box-shadow: rgba(0, 0, 0, 0.14902) 0px 2px 4px, rgba(0, 0, 0, 0.14902) 0px 0px 3px;
    }
    core-toolbar {
      background-color: lightblue;
    }
    .card-content {
      padding: 8px;
      position: relative;
      display: inline-block;
    }
    .card-content img {
      width: 100%;
    }
    .metadata {
      position: absolute;
      left: 8px;
      right: 8px;
      bottom: 12px;
      background-color: rgba(200, 200, 200, 0.7);
      font-size: 16px;
    }
    .metadata span {
      padding-left: 10px;
    }
    </style>


    <!-- the toolbar forms a header for each card -->
    <!--
      <core-toolbar>
        
        <span>{{item.by}}</span>
      </core-toolbar>
    -->
    <div class="container" layout horizontal center-justified>
      <div class="card-content">
        <img src="{{item.thumbnail}}" on-tap="{{handleImgTap}}" />
        <div class="metadata">
          <core-icon-button
            icon="{{favoriteIcon}}"
            on-tap="{{handleFavoriteTap}}"
            core-theme-dark>
          </core-icon-button>
          <span>{{item.title}}</span>
          <span>{{item.by}}</span>
        </div>
      </div>
    </div>

  </template>
  <script>
  Polymer('quote-card', {
    favoriteIcon: 'favorite-outline',
    itemChanged: function(oldVal, newVal) {
      if (newVal.favorite) {
        return this.favoriteIcon = 'favorite';
      }

      this.favoriteIcon = 'favorite-outline';
    },
    handleFavoriteTap: function(event, detail, sender) {
      this.fire('favorite-tap', { item: this.item });
    },
    handleImgTap: function() {
      this.fire('img-tap', { item: this.item });
    }
  });
  </script>
</polymer-element>
